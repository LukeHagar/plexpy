"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from plex_api_client import PlexAPI
from plex_api_client.models import operations


def test_butler_get_butler_tasks():
    s = PlexAPI(
        access_token="<YOUR_API_KEY_HERE>",
    )

    assert s is not None

    res = s.butler.get_butler_tasks()
    assert res.status_code == 200
    assert res.object is not None
    assert res.object == operations.GetButlerTasksResponseBody(
        butler_tasks=operations.ButlerTasks(
            butler_task=[
                operations.ButlerTask(
                    name="BackupDatabase",
                    interval=3,
                    title="Backup Database",
                    description="Create a backup copy of the server's database in the configured backup directory",
                ),
            ],
        ),
    )


def test_butler_start_all_tasks():
    s = PlexAPI(
        access_token="<YOUR_API_KEY_HERE>",
    )

    assert s is not None

    res = s.butler.start_all_tasks()
    assert res.status_code == 200


def test_butler_stop_all_tasks():
    s = PlexAPI(
        access_token="<YOUR_API_KEY_HERE>",
    )

    assert s is not None

    res = s.butler.stop_all_tasks()
    assert res.status_code == 200


def test_butler_start_task():
    s = PlexAPI(
        access_token="<YOUR_API_KEY_HERE>",
    )

    assert s is not None

    res = s.butler.start_task(task_name=operations.TaskName.CLEAN_OLD_BUNDLES)
    assert res.status_code == 200


def test_butler_stop_task():
    s = PlexAPI(
        access_token="<YOUR_API_KEY_HERE>",
    )

    assert s is not None

    res = s.butler.stop_task(task_name=operations.PathParamTaskName.BACKUP_DATABASE)
    assert res.status_code == 200
