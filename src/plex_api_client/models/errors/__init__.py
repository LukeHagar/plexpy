"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from .plexapierror import PlexAPIError
from typing import TYPE_CHECKING
from importlib import import_module
import builtins
import sys

if TYPE_CHECKING:
    from .get_server_resources import (
        GetServerResourcesErrors,
        GetServerResourcesErrorsTypedDict,
        GetServerResourcesUnauthorized,
        GetServerResourcesUnauthorizedData,
    )
    from .get_users import (
        GetUsersBadRequest,
        GetUsersBadRequestData,
        GetUsersErrors,
        GetUsersErrorsTypedDict,
        GetUsersUnauthorized,
        GetUsersUnauthorizedData,
        GetUsersUsersErrors,
        GetUsersUsersErrorsTypedDict,
    )
    from .gettokendetails import (
        Errors,
        ErrorsTypedDict,
        GetTokenDetailsBadRequest,
        GetTokenDetailsBadRequestData,
        GetTokenDetailsErrors,
        GetTokenDetailsErrorsTypedDict,
        GetTokenDetailsUnauthorized,
        GetTokenDetailsUnauthorizedData,
    )
    from .no_response_error import NoResponseError
    from .post_users_sign_in_data import (
        PostUsersSignInDataAuthenticationErrors,
        PostUsersSignInDataAuthenticationErrorsTypedDict,
        PostUsersSignInDataBadRequest,
        PostUsersSignInDataBadRequestData,
        PostUsersSignInDataErrors,
        PostUsersSignInDataErrorsTypedDict,
        PostUsersSignInDataUnauthorized,
        PostUsersSignInDataUnauthorizedData,
    )
    from .responsevalidationerror import ResponseValidationError
    from .sdkerror import SDKError

__all__ = [
    "Errors",
    "ErrorsTypedDict",
    "GetServerResourcesErrors",
    "GetServerResourcesErrorsTypedDict",
    "GetServerResourcesUnauthorized",
    "GetServerResourcesUnauthorizedData",
    "GetTokenDetailsBadRequest",
    "GetTokenDetailsBadRequestData",
    "GetTokenDetailsErrors",
    "GetTokenDetailsErrorsTypedDict",
    "GetTokenDetailsUnauthorized",
    "GetTokenDetailsUnauthorizedData",
    "GetUsersBadRequest",
    "GetUsersBadRequestData",
    "GetUsersErrors",
    "GetUsersErrorsTypedDict",
    "GetUsersUnauthorized",
    "GetUsersUnauthorizedData",
    "GetUsersUsersErrors",
    "GetUsersUsersErrorsTypedDict",
    "NoResponseError",
    "PlexAPIError",
    "PostUsersSignInDataAuthenticationErrors",
    "PostUsersSignInDataAuthenticationErrorsTypedDict",
    "PostUsersSignInDataBadRequest",
    "PostUsersSignInDataBadRequestData",
    "PostUsersSignInDataErrors",
    "PostUsersSignInDataErrorsTypedDict",
    "PostUsersSignInDataUnauthorized",
    "PostUsersSignInDataUnauthorizedData",
    "ResponseValidationError",
    "SDKError",
]

_dynamic_imports: dict[str, str] = {
    "GetServerResourcesErrors": ".get_server_resources",
    "GetServerResourcesErrorsTypedDict": ".get_server_resources",
    "GetServerResourcesUnauthorized": ".get_server_resources",
    "GetServerResourcesUnauthorizedData": ".get_server_resources",
    "GetUsersBadRequest": ".get_users",
    "GetUsersBadRequestData": ".get_users",
    "GetUsersErrors": ".get_users",
    "GetUsersErrorsTypedDict": ".get_users",
    "GetUsersUnauthorized": ".get_users",
    "GetUsersUnauthorizedData": ".get_users",
    "GetUsersUsersErrors": ".get_users",
    "GetUsersUsersErrorsTypedDict": ".get_users",
    "Errors": ".gettokendetails",
    "ErrorsTypedDict": ".gettokendetails",
    "GetTokenDetailsBadRequest": ".gettokendetails",
    "GetTokenDetailsBadRequestData": ".gettokendetails",
    "GetTokenDetailsErrors": ".gettokendetails",
    "GetTokenDetailsErrorsTypedDict": ".gettokendetails",
    "GetTokenDetailsUnauthorized": ".gettokendetails",
    "GetTokenDetailsUnauthorizedData": ".gettokendetails",
    "NoResponseError": ".no_response_error",
    "PostUsersSignInDataAuthenticationErrors": ".post_users_sign_in_data",
    "PostUsersSignInDataAuthenticationErrorsTypedDict": ".post_users_sign_in_data",
    "PostUsersSignInDataBadRequest": ".post_users_sign_in_data",
    "PostUsersSignInDataBadRequestData": ".post_users_sign_in_data",
    "PostUsersSignInDataErrors": ".post_users_sign_in_data",
    "PostUsersSignInDataErrorsTypedDict": ".post_users_sign_in_data",
    "PostUsersSignInDataUnauthorized": ".post_users_sign_in_data",
    "PostUsersSignInDataUnauthorizedData": ".post_users_sign_in_data",
    "ResponseValidationError": ".responsevalidationerror",
    "SDKError": ".sdkerror",
}


def dynamic_import(modname, retries=3):
    for attempt in range(retries):
        try:
            return import_module(modname, __package__)
        except KeyError:
            # Clear any half-initialized module and retry
            sys.modules.pop(modname, None)
            if attempt == retries - 1:
                break
    raise KeyError(f"Failed to import module '{modname}' after {retries} attempts")


def __getattr__(attr_name: str) -> object:
    module_name = _dynamic_imports.get(attr_name)
    if module_name is None:
        raise AttributeError(
            f"No {attr_name} found in _dynamic_imports for module name -> {__name__} "
        )

    try:
        module = dynamic_import(module_name)
        result = getattr(module, attr_name)
        return result
    except ImportError as e:
        raise ImportError(
            f"Failed to import {attr_name} from {module_name}: {e}"
        ) from e
    except AttributeError as e:
        raise AttributeError(
            f"Failed to get {attr_name} from {module_name}: {e}"
        ) from e


def __dir__():
    lazy_attrs = builtins.list(_dynamic_imports.keys())
    return builtins.sorted(lazy_attrs)
